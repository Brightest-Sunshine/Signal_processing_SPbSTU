# Большая лабораторная по курсу "Обработка и интерпретация сигналов" 2022
## Решение задачи с семантическим разрывом

### Выбранные объекты
1. ножницы
2. ручка
3. подкова
5. свеча
6. пилочка для ногтей
7. нож
8. батарейка
9. крышечка от градусника


### Требования к входным данным
#### для фотографий
- формат изображений Joint Photographic Experts Group (.jpeg, .jpg)
- разрешение фотографий не менее 9.5МП
- отсутствие цветовой коррекции
- отсутствие ретуши
- отсутствие предварительного сжатия
- изображение резкое, без смазанных фрагментов, не шумное
- освещение искусственное, без засвеченных областей и теней по интенсивности сопоставимых с самими объектами
- фотографии сделаны под прямым углом к нормали поверхности с допущением небольшого отклонения до 10°
- многоугольник нарисован на отдельном листе чистой белой бумаги
- линии многоугольника нарисованы чёрным перманентным маркером толщиной 1-3мм

#### для предметов
- толщина объектов не более 2см
- объекты полностью попадают в кадр
- объекты находятся в фокусе
- предметы не должны перекрывать друг друга
- между предметами должен быть зазор не менее 2см
- запрещается появление в кадре двух одинаковых пердметов
- объекты не должны отбрасывать теней
- цвета предметов, присутствующих в кадре, должны быть контрастны относительно друг друга и не сливаться
- цвета предметов, присутствующих в кадре, должна быть контрастны относительно поверхности, на которой располагаются

#### для поверхности
- поверхность должна быть горизонтальная, ровная (не являться выпуклой и/или вогнутой)
- поверхность должна быть достаточного размера, чтобы предметы на ней помещались целиком и не свисали их отдельные части
- поверхность должна быть одной и той же на всех изображениях
- текстура поверхности должна быть однородной и однотонной

#### требования для датасета
- границы предметов должны четко выделяться на фоне белого листа бумаги
- каждый из выбранных предметов на фоне белого листа бумаги А4 должен попадать на фотографию целиком, так чтобы углы и края листа были видны и не перекрывались

### Постановка задачи
На вход поступает фотография, на которой имеется некоторая выборка предметов, ранее выбранных и зафиксированных. Также на фотографии находится белый лист бумаги А4, на котором черным перманентным маркером нарисован многоугольник произвольного размера. 

Необходимо понять, поместятся ли предметы внутрь многоугольника с помощью параллельного переноса.

Объекты могут поместиться в многоугольнике, если при его наложении на совокупность предметов, никакая из сторон объектов не будет выходить за границы фигуры.

### Требование к выходным данным
В качестве ответа на задачу, мы должны в консоли получить один из возможных ответов (бинарная классификация)
- Yes, если предметы поместятся
- No, в противном случае

### План решения задачи
1. Загрузить изображение в программу.
2. Изменить цветовую палитру изображения RGB на GrayScale.
3. Применить бинаризацию Оцу. Получить маску изображения, включающую объекты и многоугольник.
4. На исходном изображении выделить яркой толстой линией границу многоугольника.
5. К получившемуся RGB изображению применить бинаризацию Оцу (теперь у нас не будут детектиться контуры многоугольника), перед этим изменив цветовую палитру на GrayScale.
6. Применить морфологию, в частности, многомерное бинарное открытие для расширения эрозии. Получить маску изображения, включающую только объекты.
7. Получить маску, содержащую только многоугольник, путем применения побитовой операции "исключающее или" к двум ранее полученным маскам.
8. Произвести заливку маски фигуры по контуру. 
9. Обрезать маску до ограничивающего прямоугольника, в который помещается фигура.
10. Маску объектов разбить на компоненты связности. Далее обрезать каждую до ограничивающих многоугольников и инвертировать.
11. Параллельным переносом сдвигать по одному предмету в многоугольник, до тех пор пока это возможно.
12. Если удалось перенести все предметы, то выводим готовое размещение на экран и печатаем ответ <<YES>>, в противном случае выводим <<NO>>.


### Разработчик
Мамаева Анастасия Сергеевна
тел: 8-987-615-01-94
